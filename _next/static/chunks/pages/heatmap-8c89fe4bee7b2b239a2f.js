(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{313:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return p}});n(7294);var r=n(5317),a=n(5712),o=n(9445),s=n(3626),i=n(1664),l=n(164),u=n(7277),c=n.n(u),h=(n(7738),n(5893)),p=!0;t.default=function(e){var t=e.heatmap;return(0,h.jsxs)("div",{children:[(0,h.jsx)(r.Z,{tabular:!0,children:(0,h.jsxs)(a.Z,{children:[(0,h.jsx)(i.default,{href:"/",passHref:!0,children:(0,h.jsx)(r.Z.Item,{children:"All tracks"})}),(0,h.jsx)(i.default,{href:"/stats",passHref:!0,children:(0,h.jsx)(r.Z.Item,{children:"Stats"})}),(0,h.jsx)(i.default,{href:"/heatmap",passHref:!0,children:(0,h.jsx)(r.Z.Item,{active:!0,children:"Heatmap"})}),(0,h.jsx)(i.default,{href:"/tags",passHref:!0,children:(0,h.jsx)(r.Z.Item,{children:"Tags"})})]})}),(0,h.jsxs)(a.Z,{children:[(0,h.jsx)(l.Z,{href:"//github.com/vasyaod/my-trips-viewer",target:"_blank",position:"right",children:"Fork me on GitHub"}),(0,h.jsx)(o.Z,{as:"h1",content:"Heatmap",textAlign:"center"}),(0,h.jsx)(s.Z.Group,{doubling:!0,itemsPerRow:1,stackable:!0,children:t&&t.map((function(e){return(0,h.jsx)(s.Z,{children:(0,h.jsxs)(s.Z.Content,{children:[(0,h.jsx)(s.Z.Header,{children:e.year}),(0,h.jsx)(s.Z.Description,{children:(0,h.jsx)(c(),{startDate:new Date(e.year+"-01-01"),endDate:new Date(e.year+"-12-31"),values:e.values,tooltipDataAttrs:function(e){return e.date?{"data-tip":"".concat(e.date,", distance ").concat(e.count," km")}:{"data-tip":"No data"}},classForValue:function(e){return e?e.count<10?"color-gitlab-1":e.count<25?"color-gitlab-2":e.count<50?"color-gitlab-3":"color-gitlab-4":"color-empty"}})})]})},e.year)}))})]})]})}},774:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/heatmap",function(){return n(313)}])},7738:function(){},7277:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?u(e):t}function h(e,t){return p(e)||f(e,t)||d()}function p(e){if(Array.isArray(e))return e}function f(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function y(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&e.hasOwnProperty("default")?e.default:e;var g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function m(){}function v(){}v.resetWarningCache=m;var k=function(){function e(e,t,n,r,a,o){if(o!==g){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:m};return n.PropTypes=n,n},b=y((function(e){e.exports=k()}));function D(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function x(e,t){var n;void 0===t&&(t=D);var r,a=[],o=!1;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}var S=864e5,w=7,E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=["","Mon","","Wed","","Fri",""];function C(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function N(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function O(e){return e instanceof Date?e:new Date(e)}function Z(e){return C(new Date,-e)}function L(e){for(var t=[],n=0;n<e;n+=1)t.push(n);return t}var A=10,T=4,z="react-calendar-heatmap-",M=function(n){function l(){var e,n;t(this,l);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a(u(n=c(this,(e=i(l)).call.apply(e,[this].concat(o)))),"getValueCache",x((function(e){return e.values.reduce((function(e,t){var r=O(t.date);return e[Math.floor((r-n.getStartDateWithEmptyDays())/S)]={value:t,className:n.props.classForValue(t),title:n.props.titleForValue?n.props.titleForValue(t):null,tooltipDataAttrs:n.getTooltipDataAttrsForValue(t)},e}),{})}))),n}return s(l,n),r(l,[{key:"getDateDifferenceInDays",value:function(){var e=this.props,t=e.startDate,n=e.numDays;if(n)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),n;var r=this.getEndDate()-O(t);return Math.ceil(r/S)}},{key:"getSquareSizeWithGutter",value:function(){return A+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?A+T:2*(A+T):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:1.5*A:0}},{key:"getStartDate",value:function(){return C(this.getEndDate(),1-this.getDateDifferenceInDays())}},{key:"getEndDate",value:function(){return N(O(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return C(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return w-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var e=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(e/w)}},{key:"getWeekWidth",value:function(){return w*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var t=this.props.tooltipDataAttrs;return"function"===typeof t?t(e):t}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(A,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+T,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*A+e*this.props.gutterSize]:[e*A+e*this.props.gutterSize,A]}},{key:"getMonthLabelCoordinates",value:function(e){if(this.props.horizontal)return[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-T];var t=-2;return[0,(e+1)*this.getSquareSizeWithGutter()+t]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,t){this.props.onMouseOver&&this.props.onMouseOver(e,t)}},{key:"handleMouseLeave",value:function(e,t){this.props.onMouseLeave&&this.props.onMouseLeave(e,t)}},{key:"renderSquare",value:function(t,n){var r=this;if((n<this.getNumEmptyDaysAtStart()||n>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays())&&!this.props.showOutOfRangeDays)return null;var a=h(this.getSquareCoordinates(t),2),s=a[0],i=a[1],l=this.getValueForIndex(n),u=e.createElement("rect",o({key:n,width:A,height:A,x:s,y:i,className:this.getClassNameForIndex(n),onClick:function(){return r.handleClick(l)},onMouseOver:function(e){return r.handleMouseOver(e,l)},onMouseLeave:function(e){return r.handleMouseLeave(e,l)}},this.getTooltipDataAttrsForIndex(n)),e.createElement("title",null,this.getTitleForIndex(n))),c=this.props.transformDayElement;return c?c(u,l,n):u}},{key:"renderWeek",value:function(t){var n=this;return e.createElement("g",{key:t,transform:this.getTransformForWeek(t),className:"".concat(z,"week")},L(w).map((function(e){return n.renderSquare(e,t*w+e)})))}},{key:"renderAllWeeks",value:function(){var e=this;return L(this.getWeekCount()).map((function(t){return e.renderWeek(t)}))}},{key:"renderMonthLabels",value:function(){var t=this;return this.props.showMonthLabels?L(this.getWeekCount()-1).map((function(n){var r=C(t.getStartDateWithEmptyDays(),(n+1)*w),a=h(t.getMonthLabelCoordinates(n),2),o=a[0],s=a[1];return r.getDate()>=1&&r.getDate()<=w?e.createElement("text",{key:n,x:o,y:s,className:"".concat(z,"month-label")},t.props.monthLabels[r.getMonth()]):null})):null}},{key:"renderWeekdayLabels",value:function(){var t=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map((function(n,r){var a=h(t.getWeekdayLabelCoordinates(r),2),o=a[0],s=a[1],i="".concat(t.props.horizontal?"":"".concat(z,"small-text")," ").concat(z,"weekday-label");return 1&r?e.createElement("text",{key:"".concat(o).concat(s),x:o,y:s,className:i},n):null})):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),e.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},e.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(z,"month-labels")},this.renderMonthLabels()),e.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(z,"all-weeks")},this.renderAllWeeks()),e.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(z,"weekday-labels")},this.renderWeekdayLabels()))}}]),l}(e.Component);return M.propTypes={values:b.arrayOf(b.shape({date:b.oneOfType([b.string,b.number,b.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:b.number,startDate:b.oneOfType([b.string,b.number,b.instanceOf(Date)]),endDate:b.oneOfType([b.string,b.number,b.instanceOf(Date)]),gutterSize:b.number,horizontal:b.bool,showMonthLabels:b.bool,showWeekdayLabels:b.bool,showOutOfRangeDays:b.bool,tooltipDataAttrs:b.oneOfType([b.object,b.func]),titleForValue:b.func,classForValue:b.func,monthLabels:b.arrayOf(b.string),weekdayLabels:b.arrayOf(b.string),onClick:b.func,onMouseOver:b.func,onMouseLeave:b.func,transformDayElement:b.func},M.defaultProps={numDays:null,startDate:Z(200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(e){return e?"color-filled":"color-empty"},monthLabels:E,weekdayLabels:W,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null},M}(n(7294))},3626:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(7462),a=n(1721),o=n(6010),s=n(7294),i=n(2063),l=n(8935),u=n(2519),c=n(2248),h=n(8519),p=n(7534);function f(e){var t=e.children,n=e.className,a=e.content,h=e.textAlign,p=(0,o.Z)((0,i.X4)(h),"description",n),d=(0,l.Z)(f,e),y=(0,u.Z)(f,e);return s.createElement(y,(0,r.Z)({},d,{className:p}),c.kK(t)?a:t)}f.handledProps=["as","children","className","content","textAlign"],f.propTypes={};var d=f;function y(e){var t=e.children,n=e.className,a=e.content,h=e.textAlign,p=(0,o.Z)((0,i.X4)(h),"header",n),f=(0,l.Z)(y,e),d=(0,u.Z)(y,e);return s.createElement(d,(0,r.Z)({},f,{className:p}),c.kK(t)?a:t)}y.handledProps=["as","children","className","content","textAlign"],y.propTypes={};var g=y;function m(e){var t=e.children,n=e.className,a=e.content,h=e.textAlign,p=(0,o.Z)((0,i.X4)(h),"meta",n),f=(0,l.Z)(m,e),d=(0,u.Z)(m,e);return s.createElement(d,(0,r.Z)({},f,{className:p}),c.kK(t)?a:t)}m.handledProps=["as","children","className","content","textAlign"],m.propTypes={};var v=m;function k(e){var t=e.children,n=e.className,a=e.content,h=e.description,f=e.extra,y=e.header,m=e.meta,b=e.textAlign,D=(0,o.Z)((0,i.lG)(f,"extra"),(0,i.X4)(b),"content",n),x=(0,l.Z)(k,e),S=(0,u.Z)(k,e);return c.kK(t)?c.kK(a)?s.createElement(S,(0,r.Z)({},x,{className:D}),(0,p.Go)(g,(function(e){return{content:e}}),y,{autoGenerateKey:!1}),(0,p.Go)(v,(function(e){return{content:e}}),m,{autoGenerateKey:!1}),(0,p.Go)(d,(function(e){return{content:e}}),h,{autoGenerateKey:!1})):s.createElement(S,(0,r.Z)({},x,{className:D}),a):s.createElement(S,(0,r.Z)({},x,{className:D}),t)}k.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],k.propTypes={};var b=k,D=n(335);function x(e){var t=e.centered,n=e.children,a=e.className,h=e.content,p=e.doubling,f=e.items,d=e.itemsPerRow,y=e.stackable,g=e.textAlign,m=(0,o.Z)("ui",(0,i.lG)(t,"centered"),(0,i.lG)(p,"doubling"),(0,i.lG)(y,"stackable"),(0,i.X4)(g),(0,i.H0)(d),"cards",a),v=(0,l.Z)(x,e),k=(0,u.Z)(x,e);if(!c.kK(n))return s.createElement(k,(0,r.Z)({},v,{className:m}),n);if(!c.kK(h))return s.createElement(k,(0,r.Z)({},v,{className:m}),h);var b=(0,D.Z)(f,(function(e){var t,n=null!=(t=e.key)?t:[e.header,e.description].join("-");return s.createElement(w,(0,r.Z)({key:n},e))}));return s.createElement(k,(0,r.Z)({},v,{className:m}),b)}x.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],x.propTypes={};var S=x,w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,n=e.centered,a=e.children,p=e.className,f=e.color,d=e.content,y=e.description,g=e.extra,m=e.fluid,v=e.header,k=e.href,D=e.image,x=e.link,S=e.meta,w=e.onClick,E=e.raised,W=(0,o.Z)("ui",f,(0,i.lG)(n,"centered"),(0,i.lG)(m,"fluid"),(0,i.lG)(x,"link"),(0,i.lG)(E,"raised"),"card",p),C=(0,l.Z)(t,this.props),N=(0,u.Z)(t,this.props,(function(){if(w)return"a"}));return c.kK(a)?c.kK(d)?s.createElement(N,(0,r.Z)({},C,{className:W,href:k,onClick:this.handleClick}),h.Z.create(D,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(y||v||S)&&s.createElement(b,{description:y,header:v,meta:S}),g&&s.createElement(b,{extra:!0},g)):s.createElement(N,(0,r.Z)({},C,{className:W,href:k,onClick:this.handleClick}),d):s.createElement(N,(0,r.Z)({},C,{className:W,href:k,onClick:this.handleClick}),a)},t}(s.Component);w.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],w.propTypes={},w.Content=b,w.Description=d,w.Group=S,w.Header=g,w.Meta=v}},function(e){e.O(0,[774,487,758,112,888,179],(function(){return t=774,e(e.s=t);var t}));var t=e.O();_N_E=t}]);